# AGENT INSTRUCTIONS

Этот файл создан для React/TypeScript версии проекта KyaMovVM.

## Repo Guidelines
- Всегда выполняйте тесты и проверку TypeScript перед коммитом.
- Используйте современные React patterns: hooks, functional components, TypeScript.
- Документацию пишите на русском языке, если не указано иное.
- Создавайте развёрнутые сообщения коммитов.
- Следуйте принципам компонентной архитектуры.

## Tech Stack
- **Frontend**: React 18 + TypeScript
- **Styling**: Tailwind CSS v4 + shadcn/ui компоненты
- **3D Graphics**: CSS 3D трансформации (вместо Three.js)
- **Icons**: Lucide React
- **Build Tool**: Vite/Webpack (в зависимости от настройки)

## Архитектура проекта

### Компонентная структура
```
/components
  /ui/              # shadcn/ui компоненты
  /figma/           # Специальные компоненты для Figma Make
  CarDemo.tsx       # 3D демонстрация автомобиля
  PlanPage.tsx      # Страница плана разработки
  DocumentationPage.tsx  # Документация
  ManualTestsPage.tsx   # Руководство по тестированию
```

### Основные страницы
- **Главная** (`home`) — демонстрация с 3D автомобилем и общая информация
- **План** (`plan`) — 13-этапный план разработки проекта
- **Документация** (`docs`) — полная техническая документация
- **Ручные тесты** (`manual_tests`) — чек-листы для тестирования
- **Placeholder страницы** — для разделов в разработке

## UML Диаграммы
![uml-diagram.svg](uml-diagram.svg)
![fail2ban-uml.svg](fail2ban-uml.svg)
![django_setup_uml.svg](django_setup_uml.svg)

## Документация

### Шаблоны для мануального тестирования

В React версии функционал шаблонов реализован через компонент `ManualTestsPage`. Этот компонент содержит интерактивные чек-листы для проверки каждого раздела приложения.

#### Основные области тестирования:
- Анимация и 3D объекты (CSS-анимация автомобиля)
- UML диаграммы (модальные окна на каждой странице)
- Навигация между страницами
- Адаптивность и мобильная версия
- Переключение языков (русский/английский)

### Метафоры и моделирование

Этот раздел посвящён поиску ярких и концептуально целостных аналогий, которые помогают формировать новые идеи в разработке React-приложений.

#### Компонентное мышление как экосистема
Каждый React компонент можно представить как отдельный организм в экосистеме приложения. Компоненты взаимодействуют через props и состояние, образуя сложную сеть зависимостей, подобно пищевой цепи в природе.

#### Состояние как река времени
State в React течёт как река — он может изменяться, но всегда движется в одном направлении. Каждое обновление состояния создаёт новый снимок во времени, позволяя компонентам адаптироваться к изменениям.

#### Hooks как инструменты мастера
React Hooks можно сравнить с инструментами в мастерской. useState — это основной молоток, useEffect — электродрель для сложных операций, useMemo и useCallback — точные измерительные приборы для оптимизации.

### Руководство по ручному тестированию

Подробные чек-листы для проверки каждого раздела сайта находятся в компоненте `ManualTestsPage`.

#### Основные проверки:
1. **Главная страница**
   - 3D анимация автомобиля отображается и вращается
   - Анимированное сердце работает корректно
   - Быстрая навигация функционирует
   - UML диаграмма открывается в модальном окне

2. **Страницы документации**
   - Все вкладки переключаются корректно
   - Содержимое отображается полностью
   - Поиск и навигация работают

3. **Адаптивность**
   - Мобильное меню открывается и закрывается
   - Все элементы корректно масштабируются
   - Текст остаётся читаемым на всех размерах экрана

4. **Интернационализация**
   - Переключение языков работает мгновенно
   - Весь контент переводится корректно
   - Настройки языка сохраняются при навигации

### Краткий обзор репозитория

React версия KyaMovVM представляет собой современное одностраничное приложение (SPA) с клиентской маршрутизацией. Основные файлы:

- `App.tsx` — главный компонент приложения с роутингом
- `components/` — переиспользуемые React компоненты
- `styles/globals.css` — глобальные стили Tailwind CSS v4
- `/components/ui/` — библиотека shadcn/ui компонентов

#### Архитектурные решения:
- **Состояние**: Локальное состояние через useState хуки
- **Стилизация**: Utility-first подход с Tailwind CSS
- **Типизация**: Строгая типизация с TypeScript
- **Компоненты**: Функциональные компоненты с хуками
- **Анимации**: CSS 3D трансформации вместо WebGL библиотек

#### Развертывание:
Приложение может быть собрано как статические файлы и размещено на:
- GitHub Pages
- Netlify
- Vercel
- Любом статическом хостинге

Для интеграции с Django можно использовать статические файлы из папки `build/` после выполнения команды сборки.

## Инструкции по разработке

### Добавление новых страниц
1. Создайте новый компонент в `/components/`
2. Добавьте маршрут в `navigationLinks` в `App.tsx`
3. Обновите функцию `renderCurrentPage()` для обработки нового маршрута
4. Добавьте переводы в объект `texts` при необходимости

### Стилизация компонентов
- Используйте существующие shadcn/ui компоненты когда возможно
- Следуйте цветовой схеме из `globals.css`
- Избегайте прямого указания размеров шрифтов (используется базовая типографика)
- Применяйте responsive классы для адаптивности

### Работа с состоянием
- Используйте локальное состояние для UI элементов
- Группируйте связанное состояние в объекты
- Применяйте useMemo для тяжёлых вычислений
- Используйте useCallback для функций, передаваемых в props

### Тестирование
- Проверяйте работу на различных размерах экрана
- Тестируйте переключение языков
- Убеждайтесь в корректной работе анимаций
- Проверяйте доступность с клавиатуры

## Управление версиями

**ВАЖНО**: Этот раздел должен обновляться при каждом значительном изменении!

### Система версий
Проект использует семантическое версионирование в формате `v0.XX`:
- Компонент `VersionIndicator` отображает текущую версию в правом нижнем углу
- При клике на версию открывается `VersionHistoryPage` с полной историей
- Текущая версия указана в константе `CURRENT_VERSION` в `VersionIndicator.tsx`

### Процедура обновления версии:
1. **Обновить константу CURRENT_VERSION** в `/components/VersionIndicator.tsx`
2. **Добавить новую запись** в массив `versions` в `/components/VersionHistoryPage.tsx`
3. **Описать изменения** по категориям:
   - `features` - новые функции
   - `bugfixes` - исправления ошибок
   - `improvements` - улучшения
   - `security` - изменения безопасности
   - `breaking` - критические изменения

### Текущая версия: v0.36
**Последние изменения:**
- Добавлена система управления версиями
- Исправлен баг с закрытием Testing Complete popup
- Добавлена постоянная кнопка смены языка для мобильных
- Создана страница истории версий

### Мобильные улучшения
- `MobileLanguageToggle` - постоянная кнопка языка для экранов < 1024px
- Расположена в правом верхнем углу под хедером
- Автоматически скрывается на десктопе

## Будущие улучшения
- Добавление роутинга с React Router
- Интеграция с backend API
- Добавление анимаций с Framer Motion
- Реализация темной темы
- Добавление прогрессивного веб-приложения (PWA)